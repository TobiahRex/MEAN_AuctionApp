"use strict";angular.module("MightyShore",["ngAnimate","ui.router","ui.bootstrap","satellizer","toastr","ngFileUpload"]),angular.module("MightyShore").controller("forgotController",["$scope","$state",function(t,e){console.log("forgotCtrl")}]),angular.module("MightyShore").controller("homeController",["$scope","$state","Items","allItems",function(t,e,o,r){console.log("homeCtrl");var n=r;t.allItems=n.data}]),angular.module("MightyShore").controller("loginController",["$scope","$state","$auth","Auth",function(t,e,o,r){console.log("loginCtrl"),t.loginUser=function(r){o.login(r).then(function(o){return 200!==o.status?console.log("login failed.",o.data):(t.$emit("loggedIn"),void e.go("profile"))})["catch"](function(t){return console.log("ERROR: ",t)})},t.authenticate=function(e){o.authenticate(e).then(function(e){return t.$emit("loggedIn")})["catch"](function(t){return console.log("ERROR: login error")})}}]),angular.module("MightyShore").controller("logoutController",["$scope","$state","$auth","Auth","toastr",function(t,e,o,r,n){console.log("logoutCtrl"),r.logoutUser().then(function(e){o.logout(),n.info("You have been successfully logged out.","Logged Out",{iconClass:"toast-logout"}),t.$emit("loggedOut")})}]),angular.module("MightyShore").controller("mainController",["$scope","$state","Auth","toastr",function(t,e,o,r){function n(){o.getProfile().then(function(o){t.currentUser=o.data,e.go("profile",{id:o.data._id})})["catch"](function(o){t.currentUser=null,e.go("login")})}n(),t.$on("loggedIn",function(){n()}),t.$on("loggedOut",function(){n()})}]),angular.module("MightyShore").controller("newItemController",["$scope","$state","Items",function(t,e,o){function r(){o.getAll().then(function(e){t.items=e.data})["catch"](function(e){t.items=e})}t.$on("getNewItems",function(){r()})}]),angular.module("MightyShore").controller("profileController",["$state","$scope","Auth","dbProfile","Profile",function(t,e,o,r,n){console.log("profileCtrl");var l=r;e.profile=l.data,e.newItems=function(){return e.$broadcast("getNewItems")}}]),angular.module("MightyShore").controller("registerController",["$scope","$state","$auth","Auth","toastr",function(t,e,o,r,n){console.log("registerCtrl");var l={Access:"Not-Assigned",Username:"",_Password:"",Firstname:"",Lastname:"",Email:"",Bio:"",Avatar:""};t.registerNewUser=function(o){return o.password!==o._Password?console.log("ERROR: Passwords do not match."):(l.Username=o.Username,l._Password=o._Password,l.Email=o.Email,l.Bio=o.Bio,l.Avatar=o.Avatar||o.AvatarFile,o.name.split(" ").forEach(function(t,e){0===e?l.Firstname=t:1===e?l.Lastname=t:null}),console.log("userObj: ",l),void r.registerUser(l).then(function(e){n.info("Please check your Email for a registration link.","Registered!",{iconClass:"toast-register"}),t.$emit("loggedIn")})["catch"](function(t){console.log("register error: ",t),e.go("home")}))}}]),angular.module("MightyShore").controller("splashController",["$scope","$state",function(t,e){console.log("splashCtrl"),t.goToHome=function(){e.go("home")}}]),angular.module("MightyShore").config(["$stateProvider","$urlRouterProvider","$authProvider","toastrConfig",function(t,e,o,r){o.loginUrl="/api/users/login",o.signupUrl="/api/users/register",o.facebook({clientId:"1564954670477132",url:"/api/oauth/facebook"}),t.state("splash",{url:"/",templateUrl:"html/splash.html",controller:"splashController"}).state("home",{url:"/home",templateUrl:"html/home.html",controller:"homeController",resolve:{allItems:["Items","$q","$state",function(t,e,o){return t.getAll()["catch"](function(t){return $scope.allItems=t,e.reject()})}]}}).state("register",{url:"/register",templateUrl:"html/sign_in/register.html",controller:"registerController"}).state("verify",{url:"/verify",templateUrl:"html/sign_in/verify.html"}).state("verified",{url:"/verified",templateUrl:"html/sign_in/verified.html"}).state("unverified",{url:"/unverified",templateUrl:"html/sign_in/unverified.html"}).state("login",{url:"/login",templateUrl:"html/sign_in/login.html",controller:"loginController"}).state("logout",{url:"/logout",controller:"logoutController"}).state("forgot",{url:"/forgot",templateUrl:"html/sign_in/forgot.html",controller:"forgotController"}).state("profile",{url:"/profile/:id",templateUrl:"html/profile.html",controller:"profileController",resolve:{dbProfile:["Auth","$q","$state",function(t,e,o){return t.getProfile()["catch"](function(){return o.go("login"),e.reject()})}]}}),e.otherwise("/"),angular.extend(r,{allowHtml:!1,closeButton:!1,closeHtml:"<button>&times;</button>",extendedTimeOut:5e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},messageClass:"toast-message",onHidden:null,onShown:null,onTap:null,progressBar:!1,tapToDismiss:!0,templates:{toast:"directives/toast/toast.html",progressbar:"directives/progressbar/progressbar.html"},timeOut:5e3,titleClass:"toast-title",toastClass:"toast"})}]),angular.module("MightyShore").service("Auth",["$http",function(t){this.getUsers=function(){return t.get("/api/users")},this.getUser=function(e){return t.get("/api/users/"+e)},this.loginUser=function(e){return t.post("/api/users/login",e)},this.logoutUser=function(){return t.post("/api/users/logout")},this.registerUser=function(e){return t.post("/api/users/register",e)},this.getProfile=function(){return t.get("/api/users/profile")},this.toggleAdmin=function(e){return t.put("/api/users/"+e+"/toggle_admin")}}]),angular.module("MightyShore").service("Items",["$http",function(t){this.getAll=function(){return t.get("/api/items")},this.newItem=function(e){return t.post("/api/items",e)},this.getItem=function(e){return t.get("/api/items/"+e)},this.editItem=function(e){return t.put("/api/items/"+e.id,e)},this.deleteItem=function(e){return t["delete"]("/api/items/"+e)}}]),angular.module("MightyShore").service("Profile",["$http",function(t){this.getNewItems=function(e){return t.get("/api/profile/"+e+"/new_items")},this.getOffers=function(e){return t.get("/api/profile/"+e+"/new_bids")},this.getPendingBids=function(e){return t.get("/api/profile/"+e+"/get_pending")},this.getWatchList=function(e){return t.get("/api/profile/"+e+"/get_watchlist")},this.getStats=function(e){return t.get("/api/profile/"+e+"/get_stats")},this.getAccount=function(e){return t.get("/api/profile/"+e+"/get_account")},this.getChats=function(e){return t.get("/api/profile/"+e+"/get_chats")}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNvbnRyb2xsZXJzL2ZvcmdvdENvbnRyb2xsZXIuanMiLCJjb250cm9sbGVycy9ob21lQ29udHJvbGxlci5qcyIsImNvbnRyb2xsZXJzL2xvZ2luQ29udHJvbGxlci5qcyIsImNvbnRyb2xsZXJzL2xvZ291dENvbnRyb2xsZXIuanMiLCJjb250cm9sbGVycy9tYWluQ29udHJvbGxlci5qcyIsImNvbnRyb2xsZXJzL25ld0l0ZW1Db250cm9sbGVyLmpzIiwiY29udHJvbGxlcnMvcHJvZmlsZUNvbnRyb2xsZXIuanMiLCJjb250cm9sbGVycy9yZWdpc3RlckNvbnRyb2xsZXIuanMiLCJjb250cm9sbGVycy9zcGxhc2hDb250cm9sbGVyLmpzIiwicm91dGVzL3VpUm91dGVyX3JvdXRlcy5qcyIsInNlcnZpY2VzL2F1dGhTZXJ2aWNlcy5qcyIsInNlcnZpY2VzL2l0ZW1zU2VydmljZXMuanMiLCJzZXJ2aWNlcy9wcm9maWxlU2VydmljZXMuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCIkc3RhdGUiLCJjb25zb2xlIiwibG9nIiwiSXRlbXMiLCJhbGxJdGVtcyIsImFsbEl0ZW1zT2JqIiwiZGF0YSIsIiRhdXRoIiwiQXV0aCIsImxvZ2luVXNlciIsImxvZ2luT2JqIiwibG9naW4iLCJ0aGVuIiwiZGF0YU9iaiIsInN0YXR1cyIsIiRlbWl0IiwiZ28iLCJlcnIiLCJhdXRoZW50aWNhdGUiLCJwcm92aWRlciIsInJlcyIsInRvYXN0ciIsImxvZ291dFVzZXIiLCJsb2dvdXQiLCJpbmZvIiwiaWNvbkNsYXNzIiwibG9naW5DaGVjayIsImdldFByb2ZpbGUiLCJjdXJyZW50VXNlciIsImlkIiwiX2lkIiwiJG9uIiwicmVuZGVyTmV3IiwiZ2V0QWxsIiwiaXRlbXMiLCJkYlByb2ZpbGUiLCJQcm9maWxlIiwicHJvZmlsZU9iaiIsInByb2ZpbGUiLCJuZXdJdGVtcyIsIiRicm9hZGNhc3QiLCJ1c2VyT2JqIiwiQWNjZXNzIiwiVXNlcm5hbWUiLCJfUGFzc3dvcmQiLCJGaXJzdG5hbWUiLCJMYXN0bmFtZSIsIkVtYWlsIiwiQmlvIiwiQXZhdGFyIiwicmVnaXN0ZXJOZXdVc2VyIiwicmVnaXN0ZXJPYmoiLCJwYXNzd29yZCIsIkF2YXRhckZpbGUiLCJuYW1lIiwic3BsaXQiLCJmb3JFYWNoIiwiaSIsInJlZ2lzdGVyVXNlciIsImdvVG9Ib21lIiwiY29uZmlnIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCIkYXV0aFByb3ZpZGVyIiwidG9hc3RyQ29uZmlnIiwibG9naW5VcmwiLCJzaWdudXBVcmwiLCJmYWNlYm9vayIsImNsaWVudElkIiwidXJsIiwic3RhdGUiLCJ0ZW1wbGF0ZVVybCIsInJlc29sdmUiLCIkcSIsInJlamVjdCIsIm90aGVyd2lzZSIsImV4dGVuZCIsImFsbG93SHRtbCIsImNsb3NlQnV0dG9uIiwiY2xvc2VIdG1sIiwiZXh0ZW5kZWRUaW1lT3V0IiwiaWNvbkNsYXNzZXMiLCJlcnJvciIsInN1Y2Nlc3MiLCJ3YXJuaW5nIiwibWVzc2FnZUNsYXNzIiwib25IaWRkZW4iLCJvblNob3duIiwib25UYXAiLCJwcm9ncmVzc0JhciIsInRhcFRvRGlzbWlzcyIsInRlbXBsYXRlcyIsInRvYXN0IiwicHJvZ3Jlc3NiYXIiLCJ0aW1lT3V0IiwidGl0bGVDbGFzcyIsInRvYXN0Q2xhc3MiLCJzZXJ2aWNlIiwiJGh0dHAiLCJ0aGlzIiwiZ2V0VXNlcnMiLCJnZXQiLCJnZXRVc2VyIiwicG9zdCIsInRvZ2dsZUFkbWluIiwicHV0IiwibmV3SXRlbSIsIml0ZW1PYmoiLCJnZXRJdGVtIiwiaXRlbUlkIiwiZWRpdEl0ZW0iLCJkZWxldGVJdGVtIiwiZ2V0TmV3SXRlbXMiLCJ1c2VySWQiLCJnZXRPZmZlcnMiLCJnZXRQZW5kaW5nQmlkcyIsImdldFdhdGNoTGlzdCIsImdldFN0YXRzIiwiZ2V0QWNjb3VudCIsImdldENoYXRzIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUVBQSxT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U0FBQUQsR0FBQSxNQUFVZixHQUFNRyxJQUFOLGdCQUEwQlksRUFBMUIsY0FFaENkLEtBQUtnQixlQUFpQixTQUFBRixHQUFBLE1BQVVmLEdBQU1HLElBQU4sZ0JBQTBCWSxFQUExQixpQkFFaENkLEtBQUtpQixhQUFpQixTQUFBSCxHQUFBLE1BQVVmLEdBQU1HLElBQU4sZ0JBQTBCWSxFQUExQixtQkFFaENkLEtBQUtrQixTQUFpQixTQUFBSixHQUFBLE1BQVVmLEdBQU1HLElBQU4sZ0JBQTBCWSxFQUExQixlQUVoQ2QsS0FBS21CLFdBQWlCLFNBQUFMLEdBQUEsTUFBVWYsR0FBTUcsSUFBTixnQkFBMEJZLEVBQTFCLGlCQUVoQ2QsS0FBS29CLFNBQWlCLFNBQUFOLEdBQUEsTUFBVWYsR0FBTUcsSUFBTixnQkFBMEJZLEVBQTFCIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ01pZ2h0eVNob3JlJywgWyduZ0FuaW1hdGUnLCAndWkucm91dGVyJywgJ3VpLmJvb3RzdHJhcCcsICdzYXRlbGxpemVyJywgJ3RvYXN0cicsICduZ0ZpbGVVcGxvYWQnXSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdNaWdodHlTaG9yZScpXG4uY29udHJvbGxlcignZm9yZ290Q29udHJvbGxlcicsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlKXtcblxuICBjb25zb2xlLmxvZygnZm9yZ290Q3RybCcpO1xuXG59KTtcbiIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ01pZ2h0eVNob3JlJylcbi5jb250cm9sbGVyKCdob21lQ29udHJvbGxlcicsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCBJdGVtcywgYWxsSXRlbXMpe1xuICBjb25zb2xlLmxvZygnaG9tZUN0cmwnKTtcblxuICBsZXQgYWxsSXRlbXNPYmogPSBhbGxJdGVtcztcbiAgJHNjb3BlLmFsbEl0ZW1zID0gYWxsSXRlbXNPYmouZGF0YTtcblxufSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdNaWdodHlTaG9yZScpXG4uY29udHJvbGxlcignbG9naW5Db250cm9sbGVyJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGUsICRhdXRoLCBBdXRoKXtcbiAgY29uc29sZS5sb2coJ2xvZ2luQ3RybCcpO1xuICAkc2NvcGUubG9naW5Vc2VyID0gbG9naW5PYmogPT4ge1xuICAgICRhdXRoLmxvZ2luKGxvZ2luT2JqKVxuICAgIC50aGVuKGRhdGFPYmogPT57XG4gICAgICBpZihkYXRhT2JqLnN0YXR1cyAhPT0gMjAwKSByZXR1cm4gY29uc29sZS5sb2coJ2xvZ2luIGZhaWxlZC4nLCBkYXRhT2JqLmRhdGEpO1xuICAgICAgJHNjb3BlLiRlbWl0KCdsb2dnZWRJbicpO1xuICAgICAgJHN0YXRlLmdvKCdwcm9maWxlJyk7XG4gICAgfSlcbiAgICAuY2F0Y2goZXJyPT4gY29uc29sZS5sb2coJ0VSUk9SOiAnLCBlcnIpKTtcbiAgfTtcblxuICAkc2NvcGUuYXV0aGVudGljYXRlID0gcHJvdmlkZXIgPT4ge1xuICAgICRhdXRoLmF1dGhlbnRpY2F0ZShwcm92aWRlcilcbiAgICAudGhlbihyZXMgPT4kc2NvcGUuJGVtaXQoJ2xvZ2dlZEluJykpXG4gICAgLmNhdGNoKGVycj0+IGNvbnNvbGUubG9nKCdFUlJPUjogbG9naW4gZXJyb3InKSlcbiAgfTtcbn0pO1xuOVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnTWlnaHR5U2hvcmUnKVxuLmNvbnRyb2xsZXIoJ2xvZ291dENvbnRyb2xsZXInLCBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZSwgJGF1dGgsIEF1dGgsIHRvYXN0cil7XG4gIGNvbnNvbGUubG9nKCdsb2dvdXRDdHJsJyk7XG5cbiAgQXV0aC5sb2dvdXRVc2VyKClcbiAgLnRoZW4ocmVzID0+IHtcbiAgICAkYXV0aC5sb2dvdXQoKTtcbiAgICB0b2FzdHIuaW5mbygnWW91IGhhdmUgYmVlbiBzdWNjZXNzZnVsbHkgbG9nZ2VkIG91dC4nLCAnTG9nZ2VkIE91dCcsIHtpY29uQ2xhc3MgOiAndG9hc3QtbG9nb3V0J30pXG4gICAgJHNjb3BlLiRlbWl0KCdsb2dnZWRPdXQnKTtcbiAgfSk7XG59KTtcbiIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ01pZ2h0eVNob3JlJylcbi5jb250cm9sbGVyKCdtYWluQ29udHJvbGxlcicsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCBBdXRoLCB0b2FzdHIpe1xuXG4gIGZ1bmN0aW9uIGxvZ2luQ2hlY2soKXtcbiAgICBBdXRoLmdldFByb2ZpbGUoKVxuICAgIC50aGVuKHJlcyA9PiB7XG4gICAgICAkc2NvcGUuY3VycmVudFVzZXIgPSByZXMuZGF0YTtcbiAgICAgICRzdGF0ZS5nbygncHJvZmlsZScsIHtpZCA6IHJlcy5kYXRhLl9pZH0pO1xuICAgIH0pXG4gICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAkc2NvcGUuY3VycmVudFVzZXIgPSBudWxsO1xuICAgICAgJHN0YXRlLmdvKCdsb2dpbicpO1xuICAgIH0pO1xuICB9O1xuXG4gIGxvZ2luQ2hlY2soKTtcblxuICAkc2NvcGUuJG9uKCdsb2dnZWRJbicsIGZ1bmN0aW9uKCl7bG9naW5DaGVjaygpfSk7XG4gICRzY29wZS4kb24oJ2xvZ2dlZE91dCcsIGZ1bmN0aW9uKCl7bG9naW5DaGVjaygpfSk7XG5cbn0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnTWlnaHR5U2hvcmUnKVxuLmNvbnRyb2xsZXIoJ25ld0l0ZW1Db250cm9sbGVyJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGUsIEl0ZW1zKXtcblxuLy8gVE9ETyA6IENyZWF0ZSBJdGVtcyBTZXJ2aWNlXG5cbiAgICBmdW5jdGlvbiByZW5kZXJOZXcoKXtcbiAgICAgIEl0ZW1zLmdldEFsbCgpXG4gICAgICAudGhlbihyZXMgPT4ge1xuICAgICAgICAkc2NvcGUuaXRlbXMgPSByZXMuZGF0YTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgJHNjb3BlLml0ZW1zID0gZXJyO1xuICAgICAgfSlcbiAgICB9O1xuXG4gICAgJHNjb3BlLiRvbignZ2V0TmV3SXRlbXMnLCBmdW5jdGlvbigpe3JlbmRlck5ldygpfSk7XG59KTtcbiIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ01pZ2h0eVNob3JlJylcbi5jb250cm9sbGVyKCdwcm9maWxlQ29udHJvbGxlcicsIGZ1bmN0aW9uKCRzdGF0ZSwgJHNjb3BlLCBBdXRoLCBkYlByb2ZpbGUsIFByb2ZpbGUpe1xuICBjb25zb2xlLmxvZygncHJvZmlsZUN0cmwnKTtcblxuICBsZXQgcHJvZmlsZU9iaiA9IGRiUHJvZmlsZTsgIC8vIGVudGlyZSBwcm9maWxlXG4gICRzY29wZS5wcm9maWxlID0gcHJvZmlsZU9iai5kYXRhO1xuXG4gICRzY29wZS5uZXdJdGVtcyA9ICgpID0+ICRzY29wZS4kYnJvYWRjYXN0KCdnZXROZXdJdGVtcycpOyAvLyBsaXN0ZW5lciBAIG5ld0l0ZW1Db250cm9sbGVyXG59KTtcbiIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ01pZ2h0eVNob3JlJylcbi5jb250cm9sbGVyKCdyZWdpc3RlckNvbnRyb2xsZXInLCBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZSwgJGF1dGgsIEF1dGgsIHRvYXN0cil7XG4gIGNvbnNvbGUubG9nKCdyZWdpc3RlckN0cmwnKTtcblxuICBsZXQgdXNlck9iaiA9IHtcbiAgICBBY2Nlc3MgICAgICA6ICAnTm90LUFzc2lnbmVkJyxcbiAgICBVc2VybmFtZSAgICA6ICAgJycsXG4gICAgX1Bhc3N3b3JkICAgOiAgICcnLFxuICAgIEZpcnN0bmFtZSAgIDogICAnJyxcbiAgICBMYXN0bmFtZSAgICA6ICAgJycsXG4gICAgRW1haWwgICAgICAgOiAgICcnLFxuICAgIEJpbyAgICAgICAgIDogICAnJyxcbiAgICBBdmF0YXIgICAgICA6ICAgJydcbiAgfTtcblxuICAkc2NvcGUucmVnaXN0ZXJOZXdVc2VyID0gcmVnaXN0ZXJPYmogPT4ge1xuICAgIC8vLXB3ZCBtYXRjaFxuICAgIGlmKHJlZ2lzdGVyT2JqLnBhc3N3b3JkICE9PSByZWdpc3Rlck9iai5fUGFzc3dvcmQpIHJldHVybiBjb25zb2xlLmxvZygnRVJST1I6IFBhc3N3b3JkcyBkbyBub3QgbWF0Y2guJyk7XG5cbiAgICAvLy1idWlsZCB1c2VyT2JqIGZyb20gcmVnaXN0ZXJPYmpcbiAgICB1c2VyT2JqLlVzZXJuYW1lICA9IHJlZ2lzdGVyT2JqLlVzZXJuYW1lO1xuICAgIHVzZXJPYmouX1Bhc3N3b3JkID0gcmVnaXN0ZXJPYmouX1Bhc3N3b3JkO1xuICAgIHVzZXJPYmouRW1haWwgICAgID0gcmVnaXN0ZXJPYmouRW1haWw7XG4gICAgdXNlck9iai5CaW8gICAgICAgPSByZWdpc3Rlck9iai5CaW87XG4gICAgdXNlck9iai5BdmF0YXIgICAgPSByZWdpc3Rlck9iai5BdmF0YXIgfHwgcmVnaXN0ZXJPYmouQXZhdGFyRmlsZTtcblxuICAgIHJlZ2lzdGVyT2JqLm5hbWUuc3BsaXQoJyAnKS5mb3JFYWNoKChuYW1lLCBpKSA9PiB7XG4gICAgICBpID09PSAwID8gdXNlck9iai5GaXJzdG5hbWUgPSBuYW1lIDpcbiAgICAgIGkgPT09IDEgPyB1c2VyT2JqLkxhc3RuYW1lID0gbmFtZSA6XG4gICAgICBudWxsO1xuICAgIH0pO1xuXG4gICAgLy8tc3VibWl0XG4gICAgY29uc29sZS5sb2coJ3VzZXJPYmo6ICcsIHVzZXJPYmopO1xuICAgIEF1dGgucmVnaXN0ZXJVc2VyKHVzZXJPYmopXG4gICAgLnRoZW4oZGF0YU9iaiA9PiB7XG4gICAgICB0b2FzdHIuaW5mbygnUGxlYXNlIGNoZWNrIHlvdXIgRW1haWwgZm9yIGEgcmVnaXN0cmF0aW9uIGxpbmsuJywgJ1JlZ2lzdGVyZWQhJywge2ljb25DbGFzcyA6ICd0b2FzdC1yZWdpc3Rlcid9KVxuICAgICAgJHNjb3BlLiRlbWl0KCdsb2dnZWRJbicpO1xuICAgIH0pXG4gICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICBjb25zb2xlLmxvZygncmVnaXN0ZXIgZXJyb3I6ICcsIGVycik7XG4gICAgICAkc3RhdGUuZ28oJ2hvbWUnKTtcbiAgICB9KVxuICB9O1xufSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdNaWdodHlTaG9yZScpXG4uY29udHJvbGxlcignc3BsYXNoQ29udHJvbGxlcicsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlKXtcbiAgY29uc29sZS5sb2coJ3NwbGFzaEN0cmwnKTtcblxuICAkc2NvcGUuZ29Ub0hvbWUgPSAoKSA9PiB7XG4gICAgJHN0YXRlLmdvKCdob21lJyk7XG4gIH07XG5cblxufSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdNaWdodHlTaG9yZScpXG4uY29uZmlnKGZ1bmN0aW9uKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIsICRhdXRoUHJvdmlkZXIsIHRvYXN0ckNvbmZpZyl7XG4gICRhdXRoUHJvdmlkZXIubG9naW5VcmwgPSAnL2FwaS91c2Vycy9sb2dpbic7XG4gICRhdXRoUHJvdmlkZXIuc2lnbnVwVXJsID0gJy9hcGkvdXNlcnMvcmVnaXN0ZXInO1xuXG4gICRhdXRoUHJvdmlkZXIuZmFjZWJvb2soe1xuICAgIGNsaWVudElkIDogICcxNTY0OTU0NjcwNDc3MTMyJyxcbiAgICB1cmwgICAgICA6ICAnL2FwaS9vYXV0aC9mYWNlYm9vaydcbiAgfSk7XG5cbiAgJHN0YXRlUHJvdmlkZXJcbiAgLnN0YXRlKCdzcGxhc2gnLCB7XG4gICAgdXJsICAgICAgICAgICAgIDogICAgJy8nLFxuICAgIHRlbXBsYXRlVXJsICAgICA6ICAgICdodG1sL3NwbGFzaC5odG1sJyxcbiAgICBjb250cm9sbGVyICAgICAgOiAgICAnc3BsYXNoQ29udHJvbGxlcidcbiAgfSlcbiAgLnN0YXRlKCdob21lJywge1xuICAgIHVybCAgICAgICAgICAgICA6ICAgICcvaG9tZScsXG4gICAgdGVtcGxhdGVVcmwgICAgIDogICAgJ2h0bWwvaG9tZS5odG1sJyxcbiAgICBjb250cm9sbGVyICAgICAgOiAgICAnaG9tZUNvbnRyb2xsZXInLFxuICAgIHJlc29sdmUgICAgICAgICA6ICAgIHtcbiAgICAgIGFsbEl0ZW1zICAgOiAgZnVuY3Rpb24oSXRlbXMsICRxLCAkc3RhdGUpe1xuICAgICAgICByZXR1cm4gSXRlbXMuZ2V0QWxsKClcbiAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgJHNjb3BlLmFsbEl0ZW1zID0gZXJyO1xuICAgICAgICAgIHJldHVybiAkcS5yZWplY3QoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9KVxuICAuc3RhdGUoJ3JlZ2lzdGVyJywge1xuICAgIHVybCAgICAgICAgICAgICA6ICAgICcvcmVnaXN0ZXInLFxuICAgIHRlbXBsYXRlVXJsICAgICA6ICAgICdodG1sL3NpZ25faW4vcmVnaXN0ZXIuaHRtbCcsXG4gICAgY29udHJvbGxlciAgICAgIDogICAgJ3JlZ2lzdGVyQ29udHJvbGxlcidcbiAgfSlcbiAgLnN0YXRlKCd2ZXJpZnknLCB7XG4gICAgdXJsICAgICAgICAgICAgIDogICAgJy92ZXJpZnknLFxuICAgIHRlbXBsYXRlVXJsICAgICA6ICAgICdodG1sL3NpZ25faW4vdmVyaWZ5Lmh0bWwnXG4gIH0pXG4gIC5zdGF0ZSgndmVyaWZpZWQnLCB7XG4gICAgdXJsICAgICAgICAgICAgIDogICAgJy92ZXJpZmllZCcsXG4gICAgdGVtcGxhdGVVcmwgICAgIDogICAgJ2h0bWwvc2lnbl9pbi92ZXJpZmllZC5odG1sJ1xuICB9KVxuICAuc3RhdGUoJ3VudmVyaWZpZWQnLCB7XG4gICAgdXJsICAgICAgICAgICAgIDogICAgJy91bnZlcmlmaWVkJyxcbiAgICB0ZW1wbGF0ZVVybCAgICAgOiAgICAnaHRtbC9zaWduX2luL3VudmVyaWZpZWQuaHRtbCdcbiAgfSlcbiAgLnN0YXRlKCdsb2dpbicsIHtcbiAgICB1cmwgICAgICAgICAgICAgOiAgICAnL2xvZ2luJyxcbiAgICB0ZW1wbGF0ZVVybCAgICAgOiAgICAnaHRtbC9zaWduX2luL2xvZ2luLmh0bWwnLFxuICAgIGNvbnRyb2xsZXIgICAgICA6ICAgICdsb2dpbkNvbnRyb2xsZXInXG4gIH0pXG4gIC5zdGF0ZSgnbG9nb3V0Jywge1xuICAgIHVybCAgICAgICAgICAgICA6ICAgICcvbG9nb3V0JyxcbiAgICBjb250cm9sbGVyICAgICAgOiAgICAnbG9nb3V0Q29udHJvbGxlcidcbiAgfSlcbiAgLnN0YXRlKCdmb3Jnb3QnLCB7XG4gICAgdXJsICAgICAgICAgICAgIDogICAgJy9mb3Jnb3QnLFxuICAgIHRlbXBsYXRlVXJsICAgICA6ICAgICdodG1sL3NpZ25faW4vZm9yZ290Lmh0bWwnLFxuICAgIGNvbnRyb2xsZXIgICAgICA6ICAgICdmb3Jnb3RDb250cm9sbGVyJ1xuICB9KVxuICAuc3RhdGUoJ3Byb2ZpbGUnLCB7XG4gICAgdXJsICAgICAgICAgICAgIDogICAgICcvcHJvZmlsZS86aWQnLFxuICAgIHRlbXBsYXRlVXJsICAgICA6ICAgICAnaHRtbC9wcm9maWxlLmh0bWwnLFxuICAgIGNvbnRyb2xsZXIgICAgICA6ICAgICAncHJvZmlsZUNvbnRyb2xsZXInLFxuICAgIHJlc29sdmUgICAgICAgICA6ICAgICB7XG4gICAgICBkYlByb2ZpbGUgICA6ICAgICBmdW5jdGlvbihBdXRoLCAkcSwgJHN0YXRlKXtcbiAgICAgICAgcmV0dXJuIEF1dGguZ2V0UHJvZmlsZSgpXG4gICAgICAgIC5jYXRjaCgoKT0+e1xuICAgICAgICAgICRzdGF0ZS5nbygnbG9naW4nKTtcbiAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnLycpO1xuXG4gIGFuZ3VsYXIuZXh0ZW5kKHRvYXN0ckNvbmZpZywge1xuICAgIGFsbG93SHRtbDogZmFsc2UsXG4gICAgY2xvc2VCdXR0b246IGZhbHNlLFxuICAgIGNsb3NlSHRtbDogJzxidXR0b24+JnRpbWVzOzwvYnV0dG9uPicsXG4gICAgZXh0ZW5kZWRUaW1lT3V0OiA1MDAwLFxuICAgIGljb25DbGFzc2VzOiB7XG4gICAgICBlcnJvcjogJ3RvYXN0LWVycm9yJyxcbiAgICAgIGluZm86ICd0b2FzdC1pbmZvJyxcbiAgICAgIHN1Y2Nlc3M6ICd0b2FzdC1zdWNjZXNzJyxcbiAgICAgIHdhcm5pbmc6ICd0b2FzdC13YXJuaW5nJ1xuICAgIH0sXG4gICAgbWVzc2FnZUNsYXNzOiAndG9hc3QtbWVzc2FnZScsXG4gICAgb25IaWRkZW46IG51bGwsICAvLyBjYigpJ3NcbiAgICBvblNob3duOiBudWxsLCAgIC8vXG4gICAgb25UYXA6IG51bGwsICAgICAvL1xuICAgIHByb2dyZXNzQmFyOiBmYWxzZSxcbiAgICB0YXBUb0Rpc21pc3M6IHRydWUsXG4gICAgdGVtcGxhdGVzOiB7XG4gICAgICB0b2FzdDogJ2RpcmVjdGl2ZXMvdG9hc3QvdG9hc3QuaHRtbCcsXG4gICAgICBwcm9ncmVzc2JhcjogJ2RpcmVjdGl2ZXMvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3NiYXIuaHRtbCdcbiAgICB9LFxuICAgIHRpbWVPdXQ6IDUwMDAsXG4gICAgdGl0bGVDbGFzczogJ3RvYXN0LXRpdGxlJyxcbiAgICB0b2FzdENsYXNzOiAndG9hc3QnXG4gIH0pO1xuICAvLyBEZXRhaWxlZCBJbmZvIEAgaHR0cHM6Ly9naXRodWIuY29tL0ZveGFuZHhzcy9hbmd1bGFyLXRvYXN0clxufSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdNaWdodHlTaG9yZScpXG4uc2VydmljZSgnQXV0aCcsIGZ1bmN0aW9uKCRodHRwKXtcblxuICB0aGlzLmdldFVzZXJzID0gKCkgPT4gJGh0dHAuZ2V0KCcvYXBpL3VzZXJzJyk7XG5cbiAgdGhpcy5nZXRVc2VyID0gaWQgPT4gJGh0dHAuZ2V0KGAvYXBpL3VzZXJzLyR7aWR9YCk7XG5cbiAgdGhpcy5sb2dpblVzZXIgPSB1c2VyT2JqID0+ICRodHRwLnBvc3QoJy9hcGkvdXNlcnMvbG9naW4nLCB1c2VyT2JqKTtcblxuICB0aGlzLmxvZ291dFVzZXIgPSAoKSA9PiAkaHR0cC5wb3N0KCcvYXBpL3VzZXJzL2xvZ291dCcpO1xuXG4gIHRoaXMucmVnaXN0ZXJVc2VyID0gdXNlck9iaiA9PiAkaHR0cC5wb3N0KCcvYXBpL3VzZXJzL3JlZ2lzdGVyJywgdXNlck9iaik7XG5cbiAgdGhpcy5nZXRQcm9maWxlID0gKCkgPT4gJGh0dHAuZ2V0KCcvYXBpL3VzZXJzL3Byb2ZpbGUnKTtcblxuICB0aGlzLnRvZ2dsZUFkbWluID0gaWQgPT4gJGh0dHAucHV0KGAvYXBpL3VzZXJzLyR7aWR9L3RvZ2dsZV9hZG1pbmApO1xuXG59KTtcbiIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ01pZ2h0eVNob3JlJylcbi5zZXJ2aWNlKCdJdGVtcycsIGZ1bmN0aW9uKCRodHRwKXtcblxuLy8gQ1JVRFxuXG4gIHRoaXMuZ2V0QWxsID0gKCkgPT4gJGh0dHAuZ2V0KCcvYXBpL2l0ZW1zJyk7XG5cbiAgdGhpcy5uZXdJdGVtID0gaXRlbU9iaiA9PiAkaHR0cC5wb3N0KCcvYXBpL2l0ZW1zJywgaXRlbU9iaik7XG5cbiAgdGhpcy5nZXRJdGVtID0gaXRlbUlkID0+ICRodHRwLmdldChgL2FwaS9pdGVtcy8ke2l0ZW1JZH1gKTtcblxuICB0aGlzLmVkaXRJdGVtID0gaXRlbU9iaiA9PiAkaHR0cC5wdXQoYC9hcGkvaXRlbXMvJHtpdGVtT2JqLmlkfWAsIGl0ZW1PYmopO1xuXG4gIHRoaXMuZGVsZXRlSXRlbSA9IGl0ZW1JZCA9PiAkaHR0cC5kZWxldGUoYC9hcGkvaXRlbXMvJHtpdGVtSWR9YCk7XG5cbn0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnTWlnaHR5U2hvcmUnKVxuLnNlcnZpY2UoJ1Byb2ZpbGUnLCBmdW5jdGlvbigkaHR0cCl7XG5cbiAgICB0aGlzLmdldE5ld0l0ZW1zICAgID0gdXNlcklkID0+ICRodHRwLmdldChgL2FwaS9wcm9maWxlLyR7dXNlcklkfS9uZXdfaXRlbXNgKTtcblxuICAgIHRoaXMuZ2V0T2ZmZXJzICAgICAgPSB1c2VySWQgPT4gJGh0dHAuZ2V0KGAvYXBpL3Byb2ZpbGUvJHt1c2VySWR9L25ld19iaWRzYCk7XG5cbiAgICB0aGlzLmdldFBlbmRpbmdCaWRzID0gdXNlcklkID0+ICRodHRwLmdldChgL2FwaS9wcm9maWxlLyR7dXNlcklkfS9nZXRfcGVuZGluZ2ApO1xuXG4gICAgdGhpcy5nZXRXYXRjaExpc3QgICA9IHVzZXJJZCA9PiAkaHR0cC5nZXQoYC9hcGkvcHJvZmlsZS8ke3VzZXJJZH0vZ2V0X3dhdGNobGlzdGApO1xuXG4gICAgdGhpcy5nZXRTdGF0cyAgICAgICA9IHVzZXJJZCA9PiAkaHR0cC5nZXQoYC9hcGkvcHJvZmlsZS8ke3VzZXJJZH0vZ2V0X3N0YXRzYCk7XG5cbiAgICB0aGlzLmdldEFjY291bnQgICAgID0gdXNlcklkID0+ICRodHRwLmdldChgL2FwaS9wcm9maWxlLyR7dXNlcklkfS9nZXRfYWNjb3VudGApO1xuXG4gICAgdGhpcy5nZXRDaGF0cyAgICAgICA9IHVzZXJJZCA9PiAkaHR0cC5nZXQoYC9hcGkvcHJvZmlsZS8ke3VzZXJJZH0vZ2V0X2NoYXRzYCk7XG59KTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
